<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Raisa Kabir - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Raisa Kabir - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-mobilize"><a class="link" href="#project-mobilize">Project: Mobilize</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mobilize is a desktop application built to help people organize their contacts and tasks. It is primarily written
in Java and uses the Object Oriented Paradigm. The user interacts with it using a CLI, and it has a GUI created with JavaFX.</p>
</div>
<div class="paragraph">
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103AUG2017-T11-B3/main/blob/master/collated/main/raisa2010.md">Functional code</a>] [<a href="https://github.com/CS2103AUG2017-T11-B3/main/blob/master/collated/test/raisa2010.md">Test code</a>]</p>
</div>
<div class="sect2">
<h3 id="enhancement-added-add-task"><a class="link" href="#enhancement-added-add-task">Enhancement Added: Add Task</a></h3>
<div class="sect3">
<h4 id="external-behavior"><a class="link" href="#external-behavior">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
<div class="sect3">
<h4 id="adding-tasks-code-add-code"><a class="link" href="#adding-tasks-code-add-code">Adding tasks: <code>add</code></a></h4>
<div class="paragraph">
<p>Whether it is a host of pending submissions, a get-together or a multiday program, adding it to Mobilize can easily help you keep track of it all.<br></p>
</div>
<div class="paragraph">
<p>Use prefixes:</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>on</code> or <code>by</code> or <code>from</code> to denote the date in which the task is due to be completed or when a task is set to begin.</p>
</li>
<li>
<p><code>at</code> to denote the starting time of the task and <code>to</code> to denote the ending time of the task.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Format: <code>add DESCRIPTION [by/on/from DEADLINE] [at START TIME to END TIME] [t/TAG]…</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The task added is automatically sorted according to the deadline. With expired tasks coming first, follow by tasks with deadline that are coming up next and lastly tasks without deadline.</p>
</li>
</ul>
</div>
<div class="ulist NOTE">
<ul class="NOTE">
<li>
<p>If you want to enter a date, it must follow the MONTH-DAY-YEAR format.</p>
</li>
<li>
<p>Words or phrases like 'tomorrow', 'yesterday', 'Tue', 'Tuesday', 'day after tomorrow', '5 Dec', '5/9/2017' and 'the 8th of Jan' are all valid dates.</p>
</li>
<li>
<p><code>2 pm</code>, <code>2:00</code>, <code>02:00</code>, <code>1400</code> are all valid times.</p>
</li>
<li>
<p>Deadlines and times are optional items.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>add important meeting on 17 Nov at 9 am to 11 am</code>
Sets the description to <code>important meetin</code>, deadline to the <code>15th of November</code> in the current or upcoming year and times to <code>09:00</code> and <code>11:00</code> respectively.</p>
</li>
<li>
<p><code>add recess week from tomorrow by 15 Sep</code>
Sets the description to <code>recess week</code> start date to the next day and the deadline to the <code>15th of September</code> in the current or upcoming year.</p>
</li>
<li>
<p><code>add get groceries</code>
Sets the description to <code>get groceries</code> leaving the other parameters blank.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Constraints</em></p>
</div>
<div class="paragraph">
<p>Note the following constraints when adding tasks:</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Dates <strong>must</strong> be preceded by one of the prefixes.</p>
</li>
<li>
<p>Invalid dates (such as 32 Jan) will not be flagged by Mobilize and will be replaced in a task card by an incorrect date (such as Feb 1 '48).</p>
</li>
<li>
<p>Invalid times (such as 200 and 3 (without am or pm)) will not be flagged by Mobilize and will be replaced in a task card by an incorrect time (such as 00:00).</p>
</li>
<li>
<p>If one time (e.g. start time) is invalid while the other (e.g. end time) is valid, the incorrect time will be ignored by Mobilize and only the correct time will be added
as a <strong>single</strong> time for the task.</p>
</li>
<li>
<p>If a prefix is used and no subsequent parameter is specified, the task will be added without the associated item, e.g. <code>add meeting on</code> will set an empty deadline for the task.</p>
</li>
<li>
<p>Different deadline prefixes are <strong>not</strong> allowed in the same command, e.g. <code>add submit assignment by friday on friday</code> will result in an error.</p>
</li>
<li>
<p>Multiple values for a single deadline prefix for a single task will only result in the <strong>first</strong> value being selected, e.g. the command <code>add finish quiz by friday saturday</code> will set the deadline to the upcoming <strong>Friday only</strong> and <strong>not</strong> Saturday.</p>
</li>
<li>
<p>Multiple copies of the same deadline prefix with multiple values each will result in the <strong>last</strong> value being selected, e.g. the command <code>add finish quiz by friday by saturday</code> will set the deadline to the upcoming <strong>Saturday only</strong> and <strong>not</strong> Friday.</p>
</li>
<li>
<p>Multiple values for each time prefix is <strong>not allowed</strong> and will result in incorrect time values being registered for a task card without warning.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>The Add Task command was the first step in expanding Mobilize&#8217;s capabilities. In
allowing users to add pending tasks to their application, Mobilize has adopted
the responsibility of organizing its user&#8217;s life.</p>
</div>
<div class="paragraph">
<p>The Add Task uses a Natural Language Parsing Library, <a href="http://ocpsoft.org/prettytime/nlp/">PrettyTime</a>,
in order to make it more user-friendly, by allowing task dates to be set using natural language dates
and times. This makes the command format of the application less rigid and increases its appeal to
potential users.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="addtask-mechanism"><a class="link" href="#addtask-mechanism">AddTask mechanism</a></h3>
<div class="paragraph">
<p>The Add Task mechanism is facilitated by the <code>AddTaskCommand</code> class which inherits from the <code>UndoableCommand</code> class. It allows for the addition of new tasks to the application with a starting date and a deadline. Both dates are optional and may be omitted.</p>
</div>
<div class="paragraph">
<p>Suppose the user has just executed the <code>add</code> command using:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>`add CS assignment by tomorrow at 23:59`.</pre>
</div>
</div>
<div class="paragraph">
<p>At first, the command is called is called, which causes the <code>LogicManager</code> to pass the command string into the <code>parseCommand()</code> function of the <code>AddressBookParser</code> class. This, in turn, determines that the <code>AddTask</code> feature is being evoked and calls the <code>AddTaskCommandParser</code> to parse the String and separate it into three components: <code>Description</code>, <code>StartDate</code> and <code>Deadline</code>. These are validated and formatted by the <code>Task</code> class and returned as a <code>Task</code> object to be used to call the <code>AddTaskCommand</code> class. The <code>LogicManager</code> then calls the <code>executeUndoableFunction()</code> in the <code>AddTaskCommand</code> class which creates and returns a <code>CommandResult</code> object.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram summarizes how this operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AddTaskCommandSequenceDiagram.png" alt="AddTaskCommandSequenceDiagram" width="800" height="500">
</div>
</div>
<div class="paragraph">
<p>All parameters except the description are set to be optional wherein an empty string is added when no value is stated by a user.</p>
</div>
<div class="paragraph">
<p>Natural Language Input is processed by the PrettyTime NLP, in the <code>ParserUtil</code> class in the following way:</p>
</div>
<hr>
<div class="literalblock">
<div class="content">
<pre>public static Optional&lt;EventTime[]&gt; parseEventTimes(Optional&lt;String&gt; dateTime) throws IllegalValueException {
    requireNonNull(dateTime);
    if (dateTime.isPresent()) {
        List&lt;DateGroup&gt; dateGroup = new PrettyTimeParser().parseSyntax(dateTime.get().trim());
        if (dateGroup.isEmpty()) {
            throw new IllegalValueException(DateTimeValidator.MESSAGE_TIME_CONSTRAINTS);
        }
        List&lt;Date&gt; dates = dateGroup.get(dateGroup.size() - 1).getDates();</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>String endTime = DateTimeFormatter.formatTime(dates.get(dates.size() - 1));
String startTime = dates.size() &gt; 1 ? DateTimeFormatter.formatTime(dates.get(dates.size() - 2)) : "";</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>        return Optional.of(new EventTime[]{new EventTime(startTime), new EventTime(endTime)});
    } else {
        return Optional.empty();
    }
}</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>/**
 * Parses a {@code String naturalLanguageInput} using PrettyTime NLP, into a {@code Date}.
 * @throws IllegalValueException if the date cannot be parsed from the phrase or if the given date is invalid.
 */
public static Date parseDate(String naturalLanguageInput) throws IllegalValueException {
    List&lt;DateGroup&gt; dateGroup = new PrettyTimeParser().parseSyntax(naturalLanguageInput.trim());
    if (dateGroup.isEmpty() | !DateTimeValidator.isDateValid(naturalLanguageInput)) {
        throw new IllegalValueException(DateTimeValidator.MESSAGE_DATE_CONSTRAINTS);
    }
    List&lt;Date&gt; dates = dateGroup.get(dateGroup.size() - 1).getDates();
    return dates.get(dates.size() - 1);
}</pre>
</div>
</div>
<hr>
<h4 id="design-considerations" class="discrete">Design Considerations</h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Creating classes for StartDate and Deadline<br>
<strong>Alternative 1 (current choice):</strong> Use Strings to contains the StartDates and Deadlines.<br>
<strong>Pros:</strong> * Easy to assign an empty string to the instance variable so that the dates are optional and do not show up in the UI.
In addition, dates can be stored after being formatted to a more user-friendly style (i.e. Tue, Oct 24, '17). This prevents dates from becoming confusing (i.e. distinguishing between dd-MM-yyyy and mm-DD-yyyy)<br>
<strong>Cons:</strong> Dates are not stored the correct format. This makes it more difficult to compare and validate later on as they have to be reformatted into Date objects every time. For example,
in validating whether a start date is indeed before a deadline.<br>
<strong>Alternative 2:</strong> Use java.time.LocalDate class.<br>
<strong>Pros:</strong> Dates are in correct format. Validation becomes easier and reformatting is not necessary.<br>
<strong>Cons:</strong> LocalDate cannot be initialized when no input is given. Using a phony value of 00:00 or the current date might cause errors in validation and sorting of dates.<br>
<strong>Alternative 3:</strong>  Use java.util.Optional class for instance variables along with the LocalDate class.<br>
<strong>Pros:</strong> Easy to understand reasoning, for new developers looking to contribute. Easy to format specifically for display (once) and allows empty values when no dates are supplied.<br>
<strong>Cons</strong> The general agreement in the software engineering community seems to be that it is better not to use extra wrapping for an instance variable, that might pose problems in unwrapping later on.<br></p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Natural Language Processing<br>
<strong>Alternative 1 (current choice):</strong> Use an external library (PrettyTime) to process dates in natural language <em>after</em> they have been tokenized by their respective prefixes
and categorized according to type.<br>
<strong>Pros</strong> Dates are sure to be instantiated according to the correct class.<br>
<strong>Cons</strong> Command format becomes less flexible.<br>
<strong>Alternative 2:</strong> Parse all dates first then scan the argument string for keywords.<br>
<strong>Pros</strong> More flexible command format and consequently, more user-friendly.<br>
<strong>Cons</strong> Open to more mistakes in setting starting dates and deadlines.<br></p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Setting prefixes for adding tasks<br>
<strong>Alternative 1 (current choice):</strong> Use natural language prefixes i.e. from, to, by<br>
<strong>Pros</strong> Easier to type and remember.<br>
<strong>Cons</strong> Difficult to implement as descriptions containing these words must be separated from dates.<br>
<strong>Alternative 2</strong> Use slashes such as in task commands i.e. f/, o/, b/ etc.<br>
<strong>Pros</strong> Faster to type.<br>
<strong>Cons</strong> Description might contain slashes. t/ (to) would clash with t/ prefix for tags so to/ would have to be used.
Limits possibilities of adding new prefixes and making the format more flexible in the future.<br></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="enhancement-added-edit-task"><a class="link" href="#enhancement-added-edit-task">Enhancement Added: Edit Task</a></h3>
<div class="sect3">
<h4 id="external-behavior-2"><a class="link" href="#external-behavior-2">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
<div class="sect3">
<h4 id="editing-tasks-code-edit-code"><a class="link" href="#editing-tasks-code-edit-code">Editing tasks: <code>edit</code></a></h4>
<div class="paragraph">
<p>Change of plans? The edit feature offers a hassle-free solution to change any parameter of an existing task.</p>
</div>
<div class="paragraph">
<p>Format: <code>edit INDEX DESCRIPTION by/from/at DEADLINE at START TIME to END TIME</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
One or more parameters can be specified.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The time parameter can only be edited using the prefix <code>at</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>edit 1 exam on 4th Dec at 8 pm to 9 pm</code><br>
Changes all parameters of the task at INDEX 1 to set task description to <code>exams</code>, deadline to <code>Mon, Dec 4, '17</code>
and times to <code>20:00</code> and <code>21:00</code> respectively.</p>
</li>
<li>
<p><code>edit 2 from tomorrow</code><br>
Changes the deadline of the task at INDEX 2 to the date of the following day.</p>
</li>
<li>
<p><code>edit 3 at 9 am</code>
Changes the time of the task at INDEX 3 to <code>09:00</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title"><em>Constraints</em></div>
<p>Note the following constraints when editing tasks:</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>INDEX refers to the index number shown in the most recent task listing.</p>
</li>
<li>
<p>If a task is first searched by the “find” feature, then the new index of the task according to the filtered list of Task Cards, is what must be used in the INDEX parameter.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong> <code>1, 2, 3, &#8230;&#8203;</code></p>
</li>
<li>
<p>The time parameter can only be changed using the <code>at</code> prefix.</p>
</li>
<li>
<p>When changing the times of a task, <strong>both</strong> start time and end time <strong>must</strong> be specified or repeated, even if only one time must be changed,
e.g. to change the end time of <code>09:00 - 11:00</code> at INDEX 1, the command must be <code>edit 1 at 10 am to 11 am</code>. If <code>edit 1 at 10 am</code>, both times will
be replaced by <code>10:00</code> only. If <code>edit 1 to 10 am</code> is used, then Mobilize will give an error.</p>
</li>
<li>
<p>If a prefix is used with a blank parameter, the respective date associated with that prefix will be deleted.</p>
</li>
<li>
<p>Different deadline prefixes are <strong>not</strong> allowed in the same command, e.g. <code>edit 1 by friday on friday</code> will result in an error.</p>
</li>
<li>
<p>Multiple values for a single deadline prefix for a single task will only result in the <strong>first</strong> value being selected, e.g. the command <code>edit 1 by friday saturday</code> will set the deadline to the upcoming <strong>Friday only</strong> and <strong>not</strong> Saturday.</p>
</li>
<li>
<p>Multiple copies of the same deadline prefix with multiple values each will result in the <strong>last</strong> value being selected, e.g. the command <code>edit 1 by friday by saturday</code> will set the deadline to the upcoming <strong>Saturday only</strong> and <strong>not</strong> Friday.</p>
</li>
<li>
<p>Multiple values for each time prefix is <strong>not allowed</strong> and will result in incorrect time values being registered for a task card without warning.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="justification-2"><a class="link" href="#justification-2">Justification</a></h4>
<div class="paragraph">
<p>Editing tasks is a natural extension of the add task feature</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="edittask-mechanism"><a class="link" href="#edittask-mechanism">EditTask Mechanism</a></h3>
<div class="paragraph">
<p>The EditTask Mechanism is facilitated by the <code>EditTaskCommand</code> class and allows th euser to edit any parameter of a given task.</p>
</div>
<div class="paragraph">
<p>Suppose the user has just executed the command:</p>
</div>
<hr>
<div class="paragraph">
<p><code>edit 1 finish homework by sunday at 9 am to 12 pm</code>
---</p>
</div>
<div class="paragraph">
<p>The command is passed by the <code>LogicManager</code> class to the <code>AddressBookParser</code> which goes on to pass it to the <code>EditTaskCommandParser</code>
class. Here a new <code>EditTaskDescriptor</code> is created using the newly specified parameters while old parameters are copied. Finally,
a newly edited person is created and the Model is called to update the task using the <code>UpdateTask()</code> method.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram summarizes how this operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/EditTaskCommandSequenceDiagram.png" alt="EditTaskCommandSequenceDiagram" width="800" height="500">
</div>
</div>
<div class="paragraph">
<p>The optional parameters are assigned in the following manner in the <code>EditTaskCommandParser</code>:</p>
</div>
<hr>
<div class="literalblock">
<div class="content">
<pre>            parseDescriptionForEdit(argMultimap.getPreamble()).ifPresent(editTaskDescriptor::setDescription);
            parseDeadlineForEdit(argMultimap.getAllValues(PREFIX_DEADLINE_BY, PREFIX_DEADLINE_FROM, PREFIX_DEADLINE_ON))
                    .ifPresent(editTaskDescriptor::setDeadline);
            parseEventTimesForEdit(argMultimap.getAllValues(PREFIX_TIME_AT))
                    .ifPresent(editTaskDescriptor::setEventTimes);
            ParserUtil.parseTagsForEdit(argMultimap.getAllValues(PREFIX_TAG)).ifPresent(editTaskDescriptor::setTags);
---</pre>
</div>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="enhancement-added-tag-multiple-contacts-and-tasks"><a class="link" href="#enhancement-added-tag-multiple-contacts-and-tasks">Enhancement Added: Tag Multiple Contacts and Tasks</a></h3>
<div class="sect3">
<h4 id="external-behavior-3"><a class="link" href="#external-behavior-3">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
<div class="sect3">
<h4 id="tagging-multiple-contacts-code-tag-code-br"><a class="link" href="#tagging-multiple-contacts-code-tag-code-br">Tagging multiple contacts : <code>tag</code><br></a></h4>
<div class="paragraph">
<p>Tags are a useful way of grouping and labeling contacts. But editing them manually, one by one, can be a tedious process.
Instead, you can use the tag command to tag multiple contacts simultaneously.</p>
</div>
<div class="paragraph">
<p>Format: <code>tag INDEX… t/[TAG]…</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can add multiple tags to multiple contacts by repeating the tag prefix.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p><code>tag 1, 2, 3 t/friend t/family</code><br>
Results in all contacts in indices 1, 2 and 3 being tagged with both [<code>friend</code>] and [<code>family</code>].</p>
</div>
<div class="paragraph">
<p><em>Constraints</em></p>
</div>
<div class="paragraph">
<p>Note the following constraints when trying to add tags:</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>The index <strong>must be a positive integer</strong> 1, 2, 3, &#8230;&#8203;</p>
</li>
<li>
<p>Each index <strong>must</strong> be valid according to the current list of contacts.</p>
</li>
<li>
<p>If a contact is first searched by the “find” feature, then the new index of the contact according to the filtered list of Contact Cards, is what must be used in the INDEX parameter.</p>
</li>
<li>
<p>Every INDEX must be separated by a comma.</p>
</li>
<li>
<p>Every TAG must be preceded by a tag prefix, t/.</p>
</li>
<li>
<p>If a mix of valid and invalid indices are given, then tags will only be added to the valid INDEX without warning. If all indices are invalid, Mobilize will show an error message.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="justification-3"><a class="link" href="#justification-3">Justification</a></h4>
<div class="paragraph">
<p>The rationale behind adding a special feature to add tags cumulatively, was primarily to open up a world of
possibilities of the tags themselves, to a user. Not only can they be used to effectively, yet easily organize contacts
and tasks - that too, by multiple parameters - but they can also be used to <em>link</em> the two with the same tag
to keep track of tasks with which people are associated and vice versa.<br></p>
</div>
<div class="paragraph">
<p>That being said, the caveat to consider was whether to create a new command or modify the edit command itself
to allow for tagging cumulatively. In the end, it was decided that separating the two would help achieve the goal
of helping users be better organized, as the edit function focuses solely on <em>replacing</em> existing tags or removing
them altogether while the tag command serves to increment them. In addition, the flexible indexing for the tag command helps users tag their desired contact or task even if they make
some mistakes in typing the index unlike the edit command.</p>
</div>
<div class="paragraph">
<p>Overall the tag command achieves the application&#8217;s purposes of organizing its user&#8217;s life much more efficiently.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tag-mechanism"><a class="link" href="#tag-mechanism">Tag mechanism</a></h3>
<div class="paragraph">
<p>The Tag mechanism is a specialised form of the edit feature that allows users to tag multiple contacts with multiple tags.
The mechanism is facilitated by the <code>TagCommand</code> class which inherits from the UndoableCommand class, indicating that it can be undone.</p>
</div>
<div class="paragraph">
<p>Suppose the user has just executed the <code>TagCommand</code> using:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>`tag 1,2 t/friend t/classmate`.</pre>
</div>
</div>
<div class="paragraph">
<p>At first the command is called, which causes <code>LogicManager</code> to pass the command string to the <code>parseCommand()</code> function of the <code>AddressBookParser</code> class. This determines that the <code>TagCommand</code> feature is being evoked
and calls the <code>TagCommandParser</code> class.</p>
</div>
<div class="paragraph">
<p>Here, the arguments are validated and tokenized and new <code>TagCommand</code> object is returned with parsed indices and tags.</p>
</div>
<div class="paragraph">
<p>The <code>ModelManager</code> class in the <code>Model</code> component is then called to update all the tags of the respective people using the <code>updatePersonTags()</code> method.</p>
</div>
<div class="paragraph">
<p>The Storage and UI are subsequently updated with the new information.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram summarizes how this operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/TagSequenceDiagram.png" alt="TagSequenceDiagram" width="800" height="500">
</div>
</div>
<div class="paragraph">
<p>The TagCommand skips over the invalid indices and attempts to tag the contacts who are in the valid indices.
If no valid indices are found, then an error is thrown. This is done by the following:</p>
</div>
<hr>
<div class="literalblock">
<div class="content">
<pre>/**
 * Filters the valid indices in a given array of indices.
 */
public static Index[] filterValidIndices(int lastShownListSize, Index[] indices) {
    assert indices != null;
    assert lastShownListSize != 0;
    return Arrays.stream(indices)
            .filter(currentIndex -&gt; currentIndex.getZeroBased() &lt; lastShownListSize)
            .toArray(Index[]::new);
}</pre>
</div>
</div>
<hr>
<hr>
<div class="literalblock">
<div class="content">
<pre>Index[] validIndices = CommandUtil.filterValidIndices(lastShownList.size(), indices);</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>if (validIndices.length == 0) {
    throw new CommandException(Messages.MESSAGE_INVALID_PERSON_DISPLAYED_INDEX);
}</pre>
</div>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="tagtask-mechanism"><a class="link" href="#tagtask-mechanism">TagTask Mechanism</a></h3>
<div class="paragraph">
<p>This works in a similar way to the above.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p>Added autocomplete feature using ControlsFX Library (Pull request <a href="https://github.com/CS2103AUG2017-T11-B3/main/pull/96">#96</a>).</p>
</li>
<li>
<p>Discovered bug during trial acceptance testing (<a href="https://github.com/CS2103AUG2017-T09-B4/main/issues/103">Issue #103</a>).</p>
</li>
<li>
<p>Rewrote large parts of the User Guide and Developer to enhance it (Pull Request <a href="https://github.com/CS2103AUG2017-T11-B3/main/pull/144">#144</a>) (Pull Request <a href="https://github.com/CS2103AUG2017-T11-B3/main/pull/112">#112</a>).</p>
</li>
<li>
<p>Reviewed and edited the language and structure of all documentation.</p>
</li>
<li>
<p>Generated SampleData.xml file (Pull Request <a href="https://github.com/CS2103AUG2017-T11-B3/main/pull/138">#138</a>).</p>
</li>
<li>
<p>Set up organization, Milestones and Issues.</p>
</li>
<li>
<p>Assisted other students in Slack.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-13 16:50:31 +00:00
</div>
</div>
</body>
</html>